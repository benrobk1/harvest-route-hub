# ============================================
# CRITICAL: Required for all functionality
# ============================================

# Supabase Configuration (Auto-configured by Lovable Cloud)
VITE_SUPABASE_URL=https://xushmvtkfkijrhfoxhat.supabase.co
VITE_SUPABASE_PUBLISHABLE_KEY=your_supabase_anon_key
VITE_SUPABASE_PROJECT_ID=your_project_id

# Stripe Public Key (Frontend only - safe to expose)
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_...  # Get from Stripe Dashboard


# ============================================
# BACKEND SECRETS (Never expose to frontend!)
# Set these in Lovable Cloud Secrets UI:
# Project → Settings → Secrets
# ============================================

# STRIPE_SECRET_KEY=sk_test_...
# Required for: Payment processing, Connect onboarding
# Impact if missing: ❌ Payments fail, app unusable

# SUPABASE_SERVICE_ROLE_KEY=eyJ...
# Required for: Database access in edge functions
# Impact if missing: ❌ All backend operations fail

# ============================================
# OPTIONAL: Enhanced functionality
# ============================================

# MAPBOX_PUBLIC_TOKEN=pk.eyJ...
# Used for: Address geocoding and route optimization
# Impact if missing: ⚠️  Falls back to ZIP-based coordinates
# Fallback behavior: Less accurate delivery estimates, still functional
# Get from: https://account.mapbox.com/access-tokens/

# LOVABLE_API_KEY=lovable_...
# Used for: AI-powered batch optimization (Gemini 2.5 Flash)
# Impact if missing: ⚠️  Uses geographic fallback algorithm
# Fallback behavior: Deterministic ZIP-based batching, 15-20% less efficient
# Get from: Lovable Cloud → AI Features

# ============================================
# OPTIONAL: Monitoring & Debugging
# ============================================

# VITE_SENTRY_DSN=https://...@sentry.io/...
# Used for: Frontend error tracking and performance monitoring
# Impact if missing: No error reporting (local logs only)
# Get from: https://sentry.io/

# SENTRY_AUTH_TOKEN=...
# Used for: Uploading source maps for better error traces
# Impact if missing: Less detailed error information
# Required only for production deployments


# ============================================
# CONFIGURATION NOTES
# ============================================

# Environment Variable Naming:
# - VITE_* = Client-side (safe to expose, bundled in frontend)
# - No prefix = Server-side only (edge functions, never exposed)

# Rate Limits (configured in code):
# - Checkout: 10 requests per 15 minutes per user
# - Batch Generation: 10 requests per minute

# Business Constants (configured in src/config/constants.ts):
# - Revenue Splits: 88% farmer / 2% lead farmer / 10% platform
# - Delivery Fee: $7.50 flat fee
# - Minimum Order: $25
# - Credit Value: $10 per credit

# For more details, see:
# - ARCHITECTURE.md - System design and data flows
# - src/config/env.ts - Client-side validation
# - supabase/functions/_shared/config.ts - Server-side validation
